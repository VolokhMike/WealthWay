{% extends "base.html" %}

{% block head %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
{% endblock %}

{% block title %}Investments - WealthWay{% endblock %}
    
{% block content %}
    <main class="investments-page">

        <section class="hero" style="margin-bottom: 50px;">
            <div class="container">
                <div class="hero-content">
                    <h2 class="animate-fade-in">My Investment Portfolio</h2>
                    <p class="animate-fade-in delay-1">Explore Your Investment Journey</p>
                </div>
            </div>
        </section>

        <div class="container">
            <div class="page-header animate-fade-in">
                <h2></h2>
                <div class="profile-actions animate-fade-in delay-1">
                    <a href="{{ url_for('get_add_investment') }}" class="btn btn-outline">
                        Add investments
                    </a>
                </div>
            </div>

            <div class="portfolio-overview animate-fade-in delay-1">
                <div class="overview-card total-value">
                    <h3>Total Portfolio Value</h3>
                    <div class="value">$28,450.32</div>
                    <div class="change up">+$1,245.80 (4.58%)</div>
                    <div class="period">Last 30 days</div>
                </div>
                <div class="overview-card allocation">
                    <h3>Asset Allocation</h3>
                    <div class="allocation-chart">
                        <canvas id="allocationChart"></canvas>
                    </div>
                </div>
                <div class="overview-card performance">
                    <h3>Performance</h3>
                    <div class="performance-stats">
                        <div class="stat">
                            <span class="label">Today</span>
                            <span class="value up">+1.2%</span>
                        </div>
                        <div class="stat">
                            <span class="label">1 Week</span>
                            <span class="value up">+3.5%</span>
                        </div>
                        <div class="stat">
                            <span class="label">1 Month</span>
                            <span class="value up">+4.6%</span>
                        </div>
                        <div class="stat">
                            <span class="label">3 Months</span>
                            <span class="value down">-2.1%</span>
                        </div>
                        <div class="stat">
                            <span class="label">1 Year</span>
                            <span class="value up">+18.7%</span>
                        </div>
                        <div class="stat">
                            <span class="label">All Time</span>
                            <span class="value up">+42.3%</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="investments-container animate-fade-in delay-2">
                <div class="investments-header">
                    <h3>My Investments</h3>
                    <div class="view-options">
                        <button class="view-btn active" data-view="grid">Grid View</button>
                        <button class="view-btn" data-view="table">Table View</button>
                    </div>
                </div>

                <div class="investments-filters">
                    <div class="filter-group">
                        <label for="assetFilter">Asset Type:</label>
                        <select id="assetFilter">
                            <option value="all">All Assets</option>
                            <option value="crypto">Cryptocurrency</option>
                            <option value="stocks">Stocks</option>
                            <option value="etf">ETFs</option>
                            <option value="bonds">Bonds</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="performanceFilter">Performance:</label>
                        <select id="performanceFilter">
                            <option value="all">All</option>
                            <option value="profit">Profitable</option>
                            <option value="loss">Loss</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="sortInvestments">Sort By:</label>
                        <select id="sortInvestments">
                            <option value="value-desc">Value (Highest)</option>
                            <option value="value-asc">Value (Lowest)</option>
                            <option value="performance-desc">Performance (Best)</option>
                            <option value="performance-asc">Performance (Worst)</option>
                            <option value="date-desc">Purchase Date (Newest)</option>
                            <option value="date-asc">Purchase Date (Oldest)</option>
                        </select>
                    </div>
                </div>

                <div class="view-content grid-view active" id="investmentsGrid">
                </div>

                <div class="view-content table-view" id="investmentsTable">
                    <table class="investments-table">
                        <thead>
                            <tr>
                                <th>Asset</th>
                                <th>Type</th>
                                <th>Purchase Date</th>
                                <th>Purchase Price</th>
                                <th>Quantity</th>
                                <th>Current Price</th>
                                <th>Current Value</th>
                                <th>Profit/Loss</th>
                            </tr>
                        </thead>
                        <tbody id="investmentsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../static/js/investments-script.js"></script>
{% endblock %}